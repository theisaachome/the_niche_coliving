<button class="ui basic button right floated" (click)="addNewHouse()">Add House</button>
<app-divider>
    House Overviews
</app-divider>
<div class="ui">
    <table class="ui celled padded striped table">
      <thead>
        <tr>
            <th>#Code</th>
            <th class="single line">Unit</th>
            <th>Status</th>
<!--            <th>Room (Vacant/Total)</th>-->
            <th >Action</th>
        </tr>
      </thead>
        <tbody>
            @for (house of house$ | async; track house.id) {
                <tr>
                    <td>
                        <a class="ui mini label" [routerLink]="['/houses/',house.id]">{{house.houseCode}}</a>

                    </td>
                    <td> <a class="ui  link" [routerLink]="['/houses/',house.id]">{{house.houseName}}</a></td>
                    <td><a class="ui teal tag label"
                           [ngClass]="{
                           'green': house.houseStatus === 'Available',
                           'red': house.houseStatus === 'Occupied',
                           'yellow': house.houseStatus === 'Maintenance',
                           'grey': house.houseStatus === 'Inactive'
                         }"
                    >{{ house.houseStatus }}</a>  </td>
<!--                    <td class="left aligned">-->
<!--                        80% / <a href="#">18 studies</a>-->
<!--                    </td>-->
                    <td>
                        <button class="tiny ui button" (click)="onViewDetail(house.houseCode)">Edit</button>
<!--                        <a>View Details</a>-->
                    </td>
                </tr>
            }
        </tbody>
        <tfoot>
        <tr>
            <td >5 Houses</td>
            <td >Total Room: 40</td>
            <td >2 House fully occupied.</td>
            <td>
                <button class="tiny ui button" (click)="onViewDetail('abc')">Total</button>
            </td>
        </tr>
        </tfoot>
    </table>
</div>

@if (showModal) {
    <app-base-modal
            [config]="modalConfig"
            (close)="onModalClosed()"
    >
        <div class="ui header">We've auto-chosen a profile image for you.</div>
        <p>We've grabbed the image associated with your registered e-mail address.</p>
        <p>Is it okay to use this photo?</p>
    </app-base-modal>
}

<!--
----------------------------------------------------------
|   SUMMARY CARDS                                        |
----------------------------------------------------------
| 🏠 Houses: 5 (4 Active | 1 Discontinued)   |
| 🚪 Rooms: 50 (20 Vacant | 15 Partial | 15 Full) |
| 👤 Tenants: 120 (100 Active | 10 Registered | 10 Checked-out) |
| 💰 Income This Month: RM 45,000                        |
----------------------------------------------------------

----------------------------------------------------------
|   HOUSES OVERVIEW                                      |
----------------------------------------------------------
| House Code  | Name               | Status   | Rooms (Vacant/Total) |
|-------------|--------------------|----------|----------------------|
| 202509H-A1  | Niche Coliving A   | ACTIVE   | 10 / 20              |
| 202509H-B1  | Niche Coliving B   | ACTIVE   | 3 / 15               |
| 202509H-C1  | Cozy Stay          | DISCONT. | 0 / 10               |
----------------------------------------------------------

[Click house → show ROOMS]

----------------------------------------------------------
|   ROOMS IN HOUSE "Niche Coliving A"                    |
----------------------------------------------------------
| Room # | Capacity | Occupied | Status   | Action        |
|--------|----------|----------|----------|---------------|
| 101    | 2        | 2        | FULL     | [View Tenants]|
| 102    | 2        | 1        | PARTIAL  | [Assign]      |
| 103    | 1        | 0        | VACANT   | [Assign]      |
----------------------------------------------------------

----------------------------------------------------------
|   TENANTS OVERVIEW                                     |
----------------------------------------------------------
| Tenant Code | Name         | Status        | Room   | Action    |
|-------------|--------------|---------------|--------|-----------|
| 202509-AB12 | John Smith   | ACTIVE        | 101    | [Release] |
| 202509-CD34 | Alice Wong   | REGISTERED    | -      | [Assign]  |
| 202509-EF56 | Raj Kumar    | CHECKED_OUT   | -      | [History] |
----------------------------------------------------------

-->
